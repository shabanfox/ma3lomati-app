import streamlit as st
import pandas as pd

# 1. ุฅุนุฏุงุฏุงุช ุงูููุตุฉ
st.set_page_config(page_title="Egypt Real Estate Radar", layout="wide")

# 2. ูุงุนุฏุฉ ุงูุจูุงูุงุช ุงูุฏุงุฎููุฉ (ุฃููู 100 ูุทูุฑ ููุดุงุฑูุนูู)
# ูุฐู ุงูุทุฑููุฉ ุชุถูู ุงุณุชูุฑุงุฑ ุงููููุน 100% ุจุฏูู ุฃุฎุทุงุก ุฑูุงุจุท
raw_data = [
    {"ุงููุทูุฑ": "ุฅุนูุงุฑ ูุตุฑ", "ุงููุงูู": "ูุญูุฏ ุงูุนุจุงุฑ", "ุงููุดุฑูุน": "ููููุฏุง (Mivida)", "ุงูููุทูุฉ": "ุงูุชุฌูุน ุงูุฎุงูุณ", "ุณุงุจูุฉ ุงูุฃุนูุงู": "ูุฑุงุณูุ ุฃุจ ุชุงูู ูุงูุฑู", "ุงูุณุนุฑ": "15,000,000", "ุงูุณุฏุงุฏ": "10% - 8 ุณููุงุช"},
    {"ุงููุทูุฑ": "ุณูุฏูู (SODIC)", "ุงููุงูู": "ุดุฑูุฉ ุงูุฏุงุฑ", "ุงููุดุฑูุน": "ุณูุฏูู ุฅูุณุช", "ุงูููุทูุฉ": "ุงูุดุฑูู / ุงููุณุชูุจู", "ุณุงุจูุฉ ุงูุฃุนูุงู": "ููุณุช ุชุงููุ ููููุช", "ุงูุณุนุฑ": "11,000,000", "ุงูุณุฏุงุฏ": "5% - 8 ุณููุงุช"},
    {"ุงููุทูุฑ": "ูุงููุชู ููู", "ุงููุงูู": "ุนูุฑู ุณูููุงู", "ุงููุดุฑูุน": "ุขู ุณูุชู (iCity)", "ุงูููุทูุฉ": "ุงูุชุฌูุน / ุฃูุชูุจุฑ", "ุณุงุจูุฉ ุงูุฃุนูุงู": "ูุงูุฏ ุจุงุฑูุ ุงู ูู 1", "ุงูุณุนุฑ": "9,500,000", "ุงูุณุฏุงุฏ": "10% - 9 ุณููุงุช"},
    {"ุงููุทูุฑ": "ุจุงูู ูููุฒ", "ุงููุงูู": "ูุงุณูู ููุตูุฑ", "ุงููุดุฑูุน": "ุจุงุฏูุฉ (Badya)", "ุงูููุทูุฉ": "6 ุฃูุชูุจุฑ", "ุณุงุจูุฉ ุงูุฃุนูุงู": "ุจุงูู ูููุฒ ุงููุทุงููุฉ", "ุงูุณุนุฑ": "10,500,000", "ุงูุณุฏุงุฏ": "5% - 8 ุณููุงุช"},
    {"ุงููุทูุฑ": "ุฃูุฑุง (ORA)", "ุงููุงูู": "ูุฌูุจ ุณุงููุฑุณ", "ุงููุดุฑูุน": "ุฒูุฏ ุฅูุณุช (ZED)", "ุงูููุทูุฉ": "ุงูุชุฌูุน ุงูุฎุงูุณ", "ุณุงุจูุฉ ุงูุฃุนูุงู": "ุณูููุฑ ุณุงูุฏุณุ ุฒูุฏ ุฒุงูุฏ", "ุงูุณุนุฑ": "12,000,000", "ุงูุณุฏุงุฏ": "5% - 8 ุณููุงุช"},
    {"ุงููุทูุฑ": "ุทูุนุช ูุตุทูู", "ุงููุงูู": "ูุดุงู ุทูุนุช ูุตุทูู", "ุงููุดุฑูุน": "ููุฑ (Noor City)", "ุงูููุทูุฉ": "ุญุฏุงุฆู ุงูุนุงุตูุฉ", "ุณุงุจูุฉ ุงูุฃุนูุงู": "ูุฏููุชูุ ุงูุฑุญุงุจ", "ุงูุณุนุฑ": "7,000,000", "ุงูุณุฏุงุฏ": "ุชูุณูุท 12 ุณูุฉ"},
    {"ุงููุทูุฑ": "ุญุณู ุนูุงู", "ุงููุงูู": "ุญุณู ูุญูุฑู ุนูุงู", "ุงููุดุฑูุน": "ูุงุจ ุชุงูู (Haptown)", "ุงูููุทูุฉ": "ุงููุณุชูุจู ุณูุชู", "ุณุงุจูุฉ ุงูุฃุนูุงู": "ุณูุงู ููู ุฑูุฒูุฏูุณ", "ุงูุณุนุฑ": "14,500,000", "ุงูุณุฏุงุฏ": "5% - 8 ุณููุงุช"},
    {"ุงููุทูุฑ": "ูุตุฑ ุฅูุทุงููุง", "ุงููุงูู": "ุนุงุฆูุฉ ุงูุนุณุงู", "ุงููุดุฑูุน": "ูููุดู (Vinci)", "ุงูููุทูุฉ": "ุงูุนุงุตูุฉ ุงูุฅุฏุงุฑูุฉ", "ุณุงุจูุฉ ุงูุฃุนูุงู": "ูุงูุฑู ุจูุฒูุณ ุจุงุฑู", "ุงูุณุนุฑ": "9,000,000", "ุงูุณุฏุงุฏ": "10% - 8 ุณููุงุช"},
    {"ุงููุทูุฑ": "ุงูููู ููุชุทููุฑ", "ุงููุงูู": "ู. ูุญูุฏ ุทุงูุฑ", "ุงููุดุฑูุน": "ูุงูู ุจูุฒูุณ ุณูุชู", "ุงูููุทูุฉ": "ุงูุนุงุตูุฉ ุงูุฅุฏุงุฑูุฉ", "ุณุงุจูุฉ ุงูุฃุนูุงู": "31 North Tower", "ุงูุณุนุฑ": "6,500,000", "ุงูุณุฏุงุฏ": "10% - 10 ุณููุงุช"},
    {"ุงููุทูุฑ": "ุงููุฑุงุณู", "ุงููุงูู": "ุนุงุฆูุฉ ุจู ูุงุฏู", "ุงููุดุฑูุน": "ูููุชู ุณูููุฑ", "ุงูููุทูุฉ": "ุงูุชุฌูุน ุงูุฎุงูุณ", "ุณุงุจูุฉ ุงูุฃุนูุงู": "ุชูุณุนุฉ ูุทุงุฑ ุงููุงูุฑุฉ", "ุงูุณุนุฑ": "11,500,000", "ุงูุณุฏุงุฏ": "5% - 8 ุณููุงุช"},
    # ... ูููู ุฅุถุงูุฉ ุจุงูู ุงูู 100 ูุทูุฑ ููุง ุจููุณ ุงูููุท
]

df = pd.DataFrame(raw_data)

# 3. ุงูุชุตููู ุงูุจุตุฑู (Extreme Luxury Design)
st.markdown("""
    <style>
    @import url('https://fonts.googleapis.com/css2?family=Cairo:wght@400;700;900&display=swap');
    .stApp { background: #080808; font-family: 'Cairo', sans-serif; }
    .card {
        background: linear-gradient(145deg, #111, #0a0a0a);
        border: 1px solid #222; border-radius: 20px;
        padding: 30px; margin-bottom: 25px;
        direction: rtl; text-align: right;
        transition: 0.3s ease;
    }
    .card:hover { border-color: #d4af37; box-shadow: 0 0 20px rgba(212, 175, 55, 0.2); }
    .gold-text { color: #d4af37 !important; font-weight: 900; }
    .price-box { background: #d4af37; color: #000; padding: 5px 15px; border-radius: 8px; font-weight: bold; float: left; }
    .history-tag { background: rgba(255,255,255,0.05); padding: 15px; border-radius: 12px; margin: 15px 0; border-right: 4px solid #d4af37; }
    h1, h2, h3, p, span, label { color: white !important; }
    .stTextInput input, .stSelectbox div { background: #111 !important; color: white !important; border: 1px solid #333 !important; }
    </style>
    """, unsafe_allow_html=True)

# 4. ุงููุงุฌูุฉ ุงูุฑุฆูุณูุฉ
st.markdown("<h1 style='text-align:center;' class='gold-text'>M A S T E R _ R A D A R</h1>", unsafe_allow_html=True)
st.markdown("<p style='text-align:center; opacity:0.6;'>ุฏููู ุงููุฎุจุฉ ูููุทูุฑูู ุงูุนูุงุฑููู ูู ูุตุฑ</p>", unsafe_allow_html=True)

# ุงูููุงุชุฑ
with st.sidebar:
    st.markdown("<h2 class='gold-text'>ููุชุฑุฉ ุฐููุฉ</h2>", unsafe_allow_html=True)
    search = st.text_input("๐ ุงุจุญุซ (ูุทูุฑุ ูุดุฑูุนุ ูุงูู)")
    region_sel = st.selectbox("๐ ุงูููุทูุฉ", ["ุงููู"] + sorted(df['ุงูููุทูุฉ'].unique().tolist()))

# ููุทู ุงูุจุญุซ
filtered_df = df.copy()
if search:
    filtered_df = filtered_df[filtered_df.apply(lambda r: search.lower() in str(r).lower(), axis=1)]
if region_sel != "ุงููู":
    filtered_df = filtered_df[filtered_df['ุงูููุทูุฉ'] == region_sel]

# ุงูุนุฑุถ
for _, row in filtered_df.iterrows():
    st.markdown(f"""
        <div class="card">
            <div class="price-box">{row['ุงูุณุนุฑ']} ุฌ.ู</div>
            <div class="gold-text" style="font-size: 0.8em;">DEVELOPER: {row['ุงููุทูุฑ']}</div>
            <h2 style="margin: 5px 0;">{row['ุงููุดุฑูุน']}</h2>
            <p style="color: #888;">๐ {row['ุงูููุทูุฉ']}</p>
            
            <div class="history-tag">
                <small class="gold-text">๐ ุณุงุจูุฉ ุงูุฃุนูุงู ูุงูุฎุจุฑุฉ:</small><br>
                {row['ุณุงุจูุฉ ุงูุฃุนูุงู']}
            </div>
            
            <div style="display: flex; gap: 40px; font-size: 0.9em; opacity: 0.8;">
                <div><span class="gold-text">๐ค ุงููุงูู:</span> {row['ุงููุงูู']}</div>
                <div><span class="gold-text">๐ณ ุงูุณุฏุงุฏ:</span> {row['ุงูุณุฏุงุฏ']}</div>
            </div>
        </div>
    """, unsafe_allow_html=True)
